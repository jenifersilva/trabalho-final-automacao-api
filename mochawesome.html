<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:12,&quot;tests&quot;:38,&quot;passes&quot;:38,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2025-09-19T21:04:37.586Z&quot;,&quot;end&quot;:&quot;2025-09-19T21:04:37.892Z&quot;,&quot;duration&quot;:306,&quot;testsRegistered&quot;:38,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;9b8cb563-3cfb-492a-9408-e203e662c883&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;13159f6a-d2e9-480d-af03-d35861f810b7&quot;,&quot;title&quot;:&quot;Expense Controller&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/trabalho-final-automacao-api/trabalho-final-automacao-api/test/rest/controller/expense/expenseController.test.js&quot;,&quot;file&quot;:&quot;/test/rest/controller/expense/expenseController.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Expense Controller\&quot;&quot;,&quot;fullTitle&quot;:&quot;Expense Controller \&quot;before all\&quot; hook in \&quot;Expense Controller\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:44,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const loginRequest = require(\&quot;../../fixture/requests/user/loginRequest.json\&quot;);\nconst respostaLogin = await request(app)\n  .post(\&quot;/users/login\&quot;)\n  .send(loginRequest);\ntoken = respostaLogin.body.token;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b830aaca-40a6-46ae-b830-28409a8e4555&quot;,&quot;parentUUID&quot;:&quot;13159f6a-d2e9-480d-af03-d35861f810b7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b917d0ce-0580-4427-9956-77cb5b9f5bf7&quot;,&quot;title&quot;:&quot;POST /expenses&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/trabalho-final-automacao-api/trabalho-final-automacao-api/test/rest/controller/expense/expenseController.test.js&quot;,&quot;file&quot;:&quot;/test/rest/controller/expense/expenseController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deve retornar erro quando a descrição não for informada&quot;,&quot;fullTitle&quot;:&quot;Expense Controller POST /expenses Deve retornar erro quando a descrição não for informada&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await request(app)\n  .post(\&quot;/expenses\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(test.createExpense);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d321b0a-6f27-4489-996e-b523c6862bfd&quot;,&quot;parentUUID&quot;:&quot;b917d0ce-0580-4427-9956-77cb5b9f5bf7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando o valor não for informado&quot;,&quot;fullTitle&quot;:&quot;Expense Controller POST /expenses Deve retornar erro quando o valor não for informado&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await request(app)\n  .post(\&quot;/expenses\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(test.createExpense);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;748e65b7-e2a7-4a02-903e-bdf2e5a0aca4&quot;,&quot;parentUUID&quot;:&quot;b917d0ce-0580-4427-9956-77cb5b9f5bf7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando a data não for informada&quot;,&quot;fullTitle&quot;:&quot;Expense Controller POST /expenses Deve retornar erro quando a data não for informada&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await request(app)\n  .post(\&quot;/expenses\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(test.createExpense);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0af681cd-b55c-48d7-af17-1849540941d7&quot;,&quot;parentUUID&quot;:&quot;b917d0ce-0580-4427-9956-77cb5b9f5bf7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve registrar uma despesa com sucesso&quot;,&quot;fullTitle&quot;:&quot;Expense Controller POST /expenses Deve registrar uma despesa com sucesso&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const expenseRequest = require(\&quot;../../fixture/requests/expense/expenseRequest.json\&quot;);\nconst response = await request(app)\n  .post(\&quot;/expenses\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(expenseRequest);\nconst expectedResponse = require(\&quot;../../fixture/responses/expense/createExpenseSuccessfulResponse.json\&quot;);\nexpect(response.status).to.equal(expectedResponse.statusCode);\nexpect(response.body)\n  .excluding(\&quot;date\&quot;)\n  .to.deep.equal(expectedResponse.body);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6209f8d4-6b67-4e40-9eff-50388e779438&quot;,&quot;parentUUID&quot;:&quot;b917d0ce-0580-4427-9956-77cb5b9f5bf7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5d321b0a-6f27-4489-996e-b523c6862bfd&quot;,&quot;748e65b7-e2a7-4a02-903e-bdf2e5a0aca4&quot;,&quot;0af681cd-b55c-48d7-af17-1849540941d7&quot;,&quot;6209f8d4-6b67-4e40-9eff-50388e779438&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;d71a9dd7-23f3-4817-9c80-aab729f282d1&quot;,&quot;title&quot;:&quot;PUT /expenses/:id&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/trabalho-final-automacao-api/trabalho-final-automacao-api/test/rest/controller/expense/expenseController.test.js&quot;,&quot;file&quot;:&quot;/test/rest/controller/expense/expenseController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deve retornar erro quando a descrição não for informada&quot;,&quot;fullTitle&quot;:&quot;Expense Controller PUT /expenses/:id Deve retornar erro quando a descrição não for informada&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await request(app)\n  .put(\&quot;/expenses/1\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(test.editExpense);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1a85f1e-6aca-45b2-901f-9aba7ad308c9&quot;,&quot;parentUUID&quot;:&quot;d71a9dd7-23f3-4817-9c80-aab729f282d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando o valor não for informado&quot;,&quot;fullTitle&quot;:&quot;Expense Controller PUT /expenses/:id Deve retornar erro quando o valor não for informado&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await request(app)\n  .put(\&quot;/expenses/1\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(test.editExpense);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed7fc36c-6e23-4af3-9d4e-58e594019533&quot;,&quot;parentUUID&quot;:&quot;d71a9dd7-23f3-4817-9c80-aab729f282d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando o valor menor que zero&quot;,&quot;fullTitle&quot;:&quot;Expense Controller PUT /expenses/:id Deve retornar erro quando o valor menor que zero&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await request(app)\n  .put(\&quot;/expenses/1\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(test.editExpense);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c71e35d8-8413-4028-847b-827d927faa3a&quot;,&quot;parentUUID&quot;:&quot;d71a9dd7-23f3-4817-9c80-aab729f282d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando o valor for igual a zero&quot;,&quot;fullTitle&quot;:&quot;Expense Controller PUT /expenses/:id Deve retornar erro quando o valor for igual a zero&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await request(app)\n  .put(\&quot;/expenses/1\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(test.editExpense);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57568968-9318-48a2-bb64-9eaac8c034f4&quot;,&quot;parentUUID&quot;:&quot;d71a9dd7-23f3-4817-9c80-aab729f282d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando a data não for informada&quot;,&quot;fullTitle&quot;:&quot;Expense Controller PUT /expenses/:id Deve retornar erro quando a data não for informada&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await request(app)\n  .put(\&quot;/expenses/1\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(test.editExpense);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a7e5cc6-51ff-4bf6-a092-eb04c92af683&quot;,&quot;parentUUID&quot;:&quot;d71a9dd7-23f3-4817-9c80-aab729f282d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve editar uma despesa com sucesso&quot;,&quot;fullTitle&quot;:&quot;Expense Controller PUT /expenses/:id Deve editar uma despesa com sucesso&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const expenseRequest = require(\&quot;../../fixture/requests/expense/expenseRequest.json\&quot;);\nconst response = await request(app)\n  .put(\&quot;/expenses/1\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(expenseRequest);\nconst expectedResponse = require(\&quot;../../fixture/responses/expense/editExpenseSuccessfulResponse.json\&quot;);\nexpect(response.status).to.equal(expectedResponse.statusCode);\nexpect(response.body)\n  .excluding(\&quot;date\&quot;)\n  .to.deep.equal(expectedResponse.body);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f57673a0-84b8-494a-9f0f-9b70b39a4a29&quot;,&quot;parentUUID&quot;:&quot;d71a9dd7-23f3-4817-9c80-aab729f282d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d1a85f1e-6aca-45b2-901f-9aba7ad308c9&quot;,&quot;ed7fc36c-6e23-4af3-9d4e-58e594019533&quot;,&quot;c71e35d8-8413-4028-847b-827d927faa3a&quot;,&quot;57568968-9318-48a2-bb64-9eaac8c034f4&quot;,&quot;6a7e5cc6-51ff-4bf6-a092-eb04c92af683&quot;,&quot;f57673a0-84b8-494a-9f0f-9b70b39a4a29&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:20,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;af17e8c4-1ec9-4832-8fdd-82646aff3b04&quot;,&quot;title&quot;:&quot;Expense Controller - Mocked&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/trabalho-final-automacao-api/trabalho-final-automacao-api/test/rest/controller/expense/expenseControllerMocked.test.js&quot;,&quot;file&quot;:&quot;/test/rest/controller/expense/expenseControllerMocked.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Expense Controller - Mocked\&quot;&quot;,&quot;fullTitle&quot;:&quot;Expense Controller - Mocked \&quot;before all\&quot; hook in \&quot;Expense Controller - Mocked\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const loginRequest = require(\&quot;../../fixture/requests/user/loginRequest.json\&quot;);\nconst response = await request(app).post(\&quot;/users/login\&quot;).send(loginRequest);\ntoken = response.body.token;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b17680e-f5ba-4220-b8e8-ef342e3a0537&quot;,&quot;parentUUID&quot;:&quot;af17e8c4-1ec9-4832-8fdd-82646aff3b04&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Expense Controller - Mocked\&quot;&quot;,&quot;fullTitle&quot;:&quot;Expense Controller - Mocked \&quot;after each\&quot; hook in \&quot;Expense Controller - Mocked\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cee7adb5-52e1-4fe3-8bd8-aebf7600f3f9&quot;,&quot;parentUUID&quot;:&quot;af17e8c4-1ec9-4832-8fdd-82646aff3b04&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b723feb7-8c57-4bf9-8497-a77f20ab84b7&quot;,&quot;title&quot;:&quot;POST /expenses&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/trabalho-final-automacao-api/trabalho-final-automacao-api/test/rest/controller/expense/expenseControllerMocked.test.js&quot;,&quot;file&quot;:&quot;/test/rest/controller/expense/expenseControllerMocked.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deve retornar erro quando a descrição não for informada&quot;,&quot;fullTitle&quot;:&quot;Expense Controller - Mocked POST /expenses Deve retornar erro quando a descrição não for informada&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const error = new Error(test.expectedMessage);\nerror.status = test.statusCode;\nconst expenseServiceMock = sinon.stub(expenseService, \&quot;addExpense\&quot;);\nexpenseServiceMock.throws(error);\nconst response = await request(app)\n  .post(\&quot;/expenses\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(test.createExpense);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c22b3846-8736-4e05-b3eb-ebc71d6389fe&quot;,&quot;parentUUID&quot;:&quot;b723feb7-8c57-4bf9-8497-a77f20ab84b7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando o valor não for informado&quot;,&quot;fullTitle&quot;:&quot;Expense Controller - Mocked POST /expenses Deve retornar erro quando o valor não for informado&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const error = new Error(test.expectedMessage);\nerror.status = test.statusCode;\nconst expenseServiceMock = sinon.stub(expenseService, \&quot;addExpense\&quot;);\nexpenseServiceMock.throws(error);\nconst response = await request(app)\n  .post(\&quot;/expenses\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(test.createExpense);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad3070e9-d28e-4894-a7b4-1607904dc085&quot;,&quot;parentUUID&quot;:&quot;b723feb7-8c57-4bf9-8497-a77f20ab84b7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando a data não for informada&quot;,&quot;fullTitle&quot;:&quot;Expense Controller - Mocked POST /expenses Deve retornar erro quando a data não for informada&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const error = new Error(test.expectedMessage);\nerror.status = test.statusCode;\nconst expenseServiceMock = sinon.stub(expenseService, \&quot;addExpense\&quot;);\nexpenseServiceMock.throws(error);\nconst response = await request(app)\n  .post(\&quot;/expenses\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(test.createExpense);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5309a60-d877-4a3f-8322-a73b3439d934&quot;,&quot;parentUUID&quot;:&quot;b723feb7-8c57-4bf9-8497-a77f20ab84b7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve registrar uma despesa com sucesso&quot;,&quot;fullTitle&quot;:&quot;Expense Controller - Mocked POST /expenses Deve registrar uma despesa com sucesso&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const expenseRequest = require(\&quot;../../fixture/requests/expense/expenseRequest.json\&quot;);\nconst expectedResponse = require(\&quot;../../fixture/responses/expense/createExpenseSuccessfulResponse.json\&quot;);\nconst expenseServiceMock = sinon.stub(expenseService, \&quot;addExpense\&quot;);\nexpenseServiceMock.returns(expectedResponse.body);\nconst response = await request(app)\n  .post(\&quot;/expenses\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(expenseRequest);\nexpect(response.status).to.equal(expectedResponse.statusCode);\nexpect(response.body).to.deep.equal(expectedResponse.body);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1590a0f-7a76-4b71-945a-47e38a9fc7c1&quot;,&quot;parentUUID&quot;:&quot;b723feb7-8c57-4bf9-8497-a77f20ab84b7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c22b3846-8736-4e05-b3eb-ebc71d6389fe&quot;,&quot;ad3070e9-d28e-4894-a7b4-1607904dc085&quot;,&quot;a5309a60-d877-4a3f-8322-a73b3439d934&quot;,&quot;f1590a0f-7a76-4b71-945a-47e38a9fc7c1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;7c259147-7d13-4149-ba3e-da3741661ad2&quot;,&quot;title&quot;:&quot;PUT /expenses/:id&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/trabalho-final-automacao-api/trabalho-final-automacao-api/test/rest/controller/expense/expenseControllerMocked.test.js&quot;,&quot;file&quot;:&quot;/test/rest/controller/expense/expenseControllerMocked.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deve retornar erro quando a descrição não for informada&quot;,&quot;fullTitle&quot;:&quot;Expense Controller - Mocked PUT /expenses/:id Deve retornar erro quando a descrição não for informada&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const error = new Error(test.expectedMessage);\nerror.status = test.statusCode;\nconst expenseServiceMock = sinon.stub(expenseService, \&quot;editExpense\&quot;);\nexpenseServiceMock.throws(error);\nconst response = await request(app)\n  .put(\&quot;/expenses/1\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(test.editExpense);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95e5d4ba-dd60-4be8-b02b-4c54c84a716a&quot;,&quot;parentUUID&quot;:&quot;7c259147-7d13-4149-ba3e-da3741661ad2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando o valor não for informado&quot;,&quot;fullTitle&quot;:&quot;Expense Controller - Mocked PUT /expenses/:id Deve retornar erro quando o valor não for informado&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const error = new Error(test.expectedMessage);\nerror.status = test.statusCode;\nconst expenseServiceMock = sinon.stub(expenseService, \&quot;editExpense\&quot;);\nexpenseServiceMock.throws(error);\nconst response = await request(app)\n  .put(\&quot;/expenses/1\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(test.editExpense);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ffe00a65-be85-44e4-b4ab-e8f38cb4d7f7&quot;,&quot;parentUUID&quot;:&quot;7c259147-7d13-4149-ba3e-da3741661ad2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando o valor menor que zero&quot;,&quot;fullTitle&quot;:&quot;Expense Controller - Mocked PUT /expenses/:id Deve retornar erro quando o valor menor que zero&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const error = new Error(test.expectedMessage);\nerror.status = test.statusCode;\nconst expenseServiceMock = sinon.stub(expenseService, \&quot;editExpense\&quot;);\nexpenseServiceMock.throws(error);\nconst response = await request(app)\n  .put(\&quot;/expenses/1\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(test.editExpense);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60174613-8c4f-4712-acea-d224fc505f5c&quot;,&quot;parentUUID&quot;:&quot;7c259147-7d13-4149-ba3e-da3741661ad2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando o valor for igual a zero&quot;,&quot;fullTitle&quot;:&quot;Expense Controller - Mocked PUT /expenses/:id Deve retornar erro quando o valor for igual a zero&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const error = new Error(test.expectedMessage);\nerror.status = test.statusCode;\nconst expenseServiceMock = sinon.stub(expenseService, \&quot;editExpense\&quot;);\nexpenseServiceMock.throws(error);\nconst response = await request(app)\n  .put(\&quot;/expenses/1\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(test.editExpense);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a716d394-495e-4f26-9dde-9e2380ef0d67&quot;,&quot;parentUUID&quot;:&quot;7c259147-7d13-4149-ba3e-da3741661ad2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando a data não for informada&quot;,&quot;fullTitle&quot;:&quot;Expense Controller - Mocked PUT /expenses/:id Deve retornar erro quando a data não for informada&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const error = new Error(test.expectedMessage);\nerror.status = test.statusCode;\nconst expenseServiceMock = sinon.stub(expenseService, \&quot;editExpense\&quot;);\nexpenseServiceMock.throws(error);\nconst response = await request(app)\n  .put(\&quot;/expenses/1\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(test.editExpense);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f63e30bf-12c6-4fce-9dca-52d6df9fad8d&quot;,&quot;parentUUID&quot;:&quot;7c259147-7d13-4149-ba3e-da3741661ad2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve editar uma despesa com sucesso&quot;,&quot;fullTitle&quot;:&quot;Expense Controller - Mocked PUT /expenses/:id Deve editar uma despesa com sucesso&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const expenseRequest = require(\&quot;../../fixture/requests/expense/expenseRequest.json\&quot;);\nconst expectedResponse = require(\&quot;../../fixture/responses/expense/editExpenseSuccessfulResponse.json\&quot;);\nconst expenseServiceMock = sinon.stub(expenseService, \&quot;editExpense\&quot;);\nexpenseServiceMock.returns(expectedResponse.body);\nconst response = await request(app)\n  .put(\&quot;/expenses/1\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send(expenseRequest);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.deep.equal(expectedResponse.body);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bae9df6b-f307-4086-92cb-cdcfd9d4e8f4&quot;,&quot;parentUUID&quot;:&quot;7c259147-7d13-4149-ba3e-da3741661ad2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;95e5d4ba-dd60-4be8-b02b-4c54c84a716a&quot;,&quot;ffe00a65-be85-44e4-b4ab-e8f38cb4d7f7&quot;,&quot;60174613-8c4f-4712-acea-d224fc505f5c&quot;,&quot;a716d394-495e-4f26-9dde-9e2380ef0d67&quot;,&quot;f63e30bf-12c6-4fce-9dca-52d6df9fad8d&quot;,&quot;bae9df6b-f307-4086-92cb-cdcfd9d4e8f4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;1f191bb7-c9f8-4144-9c51-6544c7c7679e&quot;,&quot;title&quot;:&quot;User Controller&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/trabalho-final-automacao-api/trabalho-final-automacao-api/test/rest/controller/user/userController.test.js&quot;,&quot;file&quot;:&quot;/test/rest/controller/user/userController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6a648276-0376-43cd-9863-e1aece519cd6&quot;,&quot;title&quot;:&quot;POST /users/register&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/trabalho-final-automacao-api/trabalho-final-automacao-api/test/rest/controller/user/userController.test.js&quot;,&quot;file&quot;:&quot;/test/rest/controller/user/userController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deve retornar erro quando o usuário não for informado&quot;,&quot;fullTitle&quot;:&quot;User Controller POST /users/register Deve retornar erro quando o usuário não for informado&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await request(app)\n  .post(\&quot;/users/register\&quot;)\n  .send(test.createUser);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1b79894-baf7-40b9-aa58-3e9fd09fbbdf&quot;,&quot;parentUUID&quot;:&quot;6a648276-0376-43cd-9863-e1aece519cd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando a senha não for informada&quot;,&quot;fullTitle&quot;:&quot;User Controller POST /users/register Deve retornar erro quando a senha não for informada&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await request(app)\n  .post(\&quot;/users/register\&quot;)\n  .send(test.createUser);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bdfd22b6-3ef4-429d-945d-2ad6c06ece7e&quot;,&quot;parentUUID&quot;:&quot;6a648276-0376-43cd-9863-e1aece519cd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando o usuário já existir&quot;,&quot;fullTitle&quot;:&quot;User Controller POST /users/register Deve retornar erro quando o usuário já existir&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await request(app)\n  .post(\&quot;/users/register\&quot;)\n  .send(test.createUser);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a78d39e-b06d-406f-bd4c-6948002c0220&quot;,&quot;parentUUID&quot;:&quot;6a648276-0376-43cd-9863-e1aece519cd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve criar usuário com sucesso&quot;,&quot;fullTitle&quot;:&quot;User Controller POST /users/register Deve criar usuário com sucesso&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:83,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await request(app)\n  .post(\&quot;/users/register\&quot;)\n  .send({\n    username: `user${Math.random()}`,\n    password: \&quot;password\&quot;,\n  });\nconst expectedResponse = require(\&quot;../../fixture/responses/user/createUserResponseSuccessful.json\&quot;);\nexpect(response.status).to.equal(expectedResponse.statusCode);\nexpect(response.body).to.deep.equal(expectedResponse.body);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e5b94fe-667b-4592-96ed-d50c6558a367&quot;,&quot;parentUUID&quot;:&quot;6a648276-0376-43cd-9863-e1aece519cd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c1b79894-baf7-40b9-aa58-3e9fd09fbbdf&quot;,&quot;bdfd22b6-3ef4-429d-945d-2ad6c06ece7e&quot;,&quot;7a78d39e-b06d-406f-bd4c-6948002c0220&quot;,&quot;0e5b94fe-667b-4592-96ed-d50c6558a367&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:86,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;e6b66fbd-503a-4f36-b723-8be996607407&quot;,&quot;title&quot;:&quot;POST /users/login&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/trabalho-final-automacao-api/trabalho-final-automacao-api/test/rest/controller/user/userController.test.js&quot;,&quot;file&quot;:&quot;/test/rest/controller/user/userController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deve retornar erro quando o usuário não for informado&quot;,&quot;fullTitle&quot;:&quot;User Controller POST /users/login Deve retornar erro quando o usuário não for informado&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await request(app)\n  .post(\&quot;/users/login\&quot;)\n  .send(test.loginUser);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;172aff27-d205-4eef-a2c1-1a040ec7a316&quot;,&quot;parentUUID&quot;:&quot;e6b66fbd-503a-4f36-b723-8be996607407&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando a senha não for informada&quot;,&quot;fullTitle&quot;:&quot;User Controller POST /users/login Deve retornar erro quando a senha não for informada&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await request(app)\n  .post(\&quot;/users/login\&quot;)\n  .send(test.loginUser);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b78d2eaa-ea40-43d0-9ede-e3825d4e640b&quot;,&quot;parentUUID&quot;:&quot;e6b66fbd-503a-4f36-b723-8be996607407&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando informar usuário inexistente&quot;,&quot;fullTitle&quot;:&quot;User Controller POST /users/login Deve retornar erro quando informar usuário inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await request(app)\n  .post(\&quot;/users/login\&quot;)\n  .send(test.loginUser);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dab39820-a421-4e7f-ad3b-8ac64a860a19&quot;,&quot;parentUUID&quot;:&quot;e6b66fbd-503a-4f36-b723-8be996607407&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando informar senha incorreta&quot;,&quot;fullTitle&quot;:&quot;User Controller POST /users/login Deve retornar erro quando informar senha incorreta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await request(app)\n  .post(\&quot;/users/login\&quot;)\n  .send(test.loginUser);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eaf2bfec-4675-4fef-b7ea-0dfc6e8b2a3a&quot;,&quot;parentUUID&quot;:&quot;e6b66fbd-503a-4f36-b723-8be996607407&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve realizar o login com sucesso&quot;,&quot;fullTitle&quot;:&quot;User Controller POST /users/login Deve realizar o login com sucesso&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const loginRequest = require(\&quot;../../fixture/requests/user/loginRequest.json\&quot;);\nconst response = await request(app)\n  .post(\&quot;/users/login\&quot;)\n  .send(loginRequest);\nexpect(response.status).to.equal(200);\nexpect(response.body.token).to.be.not.null;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9406cdc-35ec-46de-8697-b3c4300944eb&quot;,&quot;parentUUID&quot;:&quot;e6b66fbd-503a-4f36-b723-8be996607407&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;172aff27-d205-4eef-a2c1-1a040ec7a316&quot;,&quot;b78d2eaa-ea40-43d0-9ede-e3825d4e640b&quot;,&quot;dab39820-a421-4e7f-ad3b-8ac64a860a19&quot;,&quot;eaf2bfec-4675-4fef-b7ea-0dfc6e8b2a3a&quot;,&quot;f9406cdc-35ec-46de-8697-b3c4300944eb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:54,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;1b932a5c-a1a7-418d-bab4-3a32c4b35f59&quot;,&quot;title&quot;:&quot;User Controller - Mocked&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/trabalho-final-automacao-api/trabalho-final-automacao-api/test/rest/controller/user/userControllerMocked.test.js&quot;,&quot;file&quot;:&quot;/test/rest/controller/user/userControllerMocked.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;User Controller - Mocked\&quot;&quot;,&quot;fullTitle&quot;:&quot;User Controller - Mocked \&quot;after each\&quot; hook in \&quot;User Controller - Mocked\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a072f80-dfc8-4f49-b3af-400df62751c0&quot;,&quot;parentUUID&quot;:&quot;1b932a5c-a1a7-418d-bab4-3a32c4b35f59&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1ffdbf8c-902f-4d3c-aec4-724d5d34483d&quot;,&quot;title&quot;:&quot;POST /users/register&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/trabalho-final-automacao-api/trabalho-final-automacao-api/test/rest/controller/user/userControllerMocked.test.js&quot;,&quot;file&quot;:&quot;/test/rest/controller/user/userControllerMocked.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deve retornar erro quando o usuário não for informado&quot;,&quot;fullTitle&quot;:&quot;User Controller - Mocked POST /users/register Deve retornar erro quando o usuário não for informado&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const error = new Error(test.expectedMessage);\nerror.status = test.statusCode;\nconst userServiceMock = sinon.stub(userService, \&quot;registerUser\&quot;);\nuserServiceMock.throws(error);\nconst response = await request(app)\n  .post(\&quot;/users/register\&quot;)\n  .send(test.createUser);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53e7d4c2-a2c7-4463-a17f-b56b19c1296d&quot;,&quot;parentUUID&quot;:&quot;1ffdbf8c-902f-4d3c-aec4-724d5d34483d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando a senha não for informada&quot;,&quot;fullTitle&quot;:&quot;User Controller - Mocked POST /users/register Deve retornar erro quando a senha não for informada&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const error = new Error(test.expectedMessage);\nerror.status = test.statusCode;\nconst userServiceMock = sinon.stub(userService, \&quot;registerUser\&quot;);\nuserServiceMock.throws(error);\nconst response = await request(app)\n  .post(\&quot;/users/register\&quot;)\n  .send(test.createUser);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;479b74e8-988d-4319-b216-8e325f7a2e6f&quot;,&quot;parentUUID&quot;:&quot;1ffdbf8c-902f-4d3c-aec4-724d5d34483d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando o usuário já existir&quot;,&quot;fullTitle&quot;:&quot;User Controller - Mocked POST /users/register Deve retornar erro quando o usuário já existir&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const error = new Error(test.expectedMessage);\nerror.status = test.statusCode;\nconst userServiceMock = sinon.stub(userService, \&quot;registerUser\&quot;);\nuserServiceMock.throws(error);\nconst response = await request(app)\n  .post(\&quot;/users/register\&quot;)\n  .send(test.createUser);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60f8c426-e719-4a9a-bf91-5d4faf058a67&quot;,&quot;parentUUID&quot;:&quot;1ffdbf8c-902f-4d3c-aec4-724d5d34483d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve criar usuário com sucesso&quot;,&quot;fullTitle&quot;:&quot;User Controller - Mocked POST /users/register Deve criar usuário com sucesso&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const expectedResponse = require(\&quot;../../fixture/responses/user/createUserResponseSuccessful.json\&quot;);\nconst userServiceMock = sinon.stub(userService, \&quot;registerUser\&quot;);\nuserServiceMock.returns({\n  message: expectedResponse.body.message,\n  user: { username: \&quot;user\&quot;, password: \&quot;password\&quot; },\n});\nconst response = await request(app).post(\&quot;/users/register\&quot;).send({\n  username: \&quot;username\&quot;,\n  password: \&quot;password\&quot;,\n});\nexpect(response.status).to.equal(expectedResponse.statusCode);\nexpect(response.body).to.deep.equal(expectedResponse.body);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5fe21e5-3a5b-4968-bf45-cd51d1c38601&quot;,&quot;parentUUID&quot;:&quot;1ffdbf8c-902f-4d3c-aec4-724d5d34483d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;53e7d4c2-a2c7-4463-a17f-b56b19c1296d&quot;,&quot;479b74e8-988d-4319-b216-8e325f7a2e6f&quot;,&quot;60f8c426-e719-4a9a-bf91-5d4faf058a67&quot;,&quot;d5fe21e5-3a5b-4968-bf45-cd51d1c38601&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;20d6156e-2e85-403e-8a4b-2949bdeeeb83&quot;,&quot;title&quot;:&quot;POST /users/login&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/trabalho-final-automacao-api/trabalho-final-automacao-api/test/rest/controller/user/userControllerMocked.test.js&quot;,&quot;file&quot;:&quot;/test/rest/controller/user/userControllerMocked.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deve retornar erro quando o usuário não for informado&quot;,&quot;fullTitle&quot;:&quot;User Controller - Mocked POST /users/login Deve retornar erro quando o usuário não for informado&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const error = new Error(test.expectedMessage);\nerror.status = test.statusCode;\nconst userServiceMock = sinon.stub(userService, \&quot;validateUser\&quot;);\nuserServiceMock.throws(error);\nconst response = await request(app)\n  .post(\&quot;/users/login\&quot;)\n  .send(test.loginUser);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d2a323a-e3d6-4ea0-9e6a-9ddc093367a5&quot;,&quot;parentUUID&quot;:&quot;20d6156e-2e85-403e-8a4b-2949bdeeeb83&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando a senha não for informada&quot;,&quot;fullTitle&quot;:&quot;User Controller - Mocked POST /users/login Deve retornar erro quando a senha não for informada&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const error = new Error(test.expectedMessage);\nerror.status = test.statusCode;\nconst userServiceMock = sinon.stub(userService, \&quot;validateUser\&quot;);\nuserServiceMock.throws(error);\nconst response = await request(app)\n  .post(\&quot;/users/login\&quot;)\n  .send(test.loginUser);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;26831840-1f8a-40e3-8188-c713a254352e&quot;,&quot;parentUUID&quot;:&quot;20d6156e-2e85-403e-8a4b-2949bdeeeb83&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando informar usuário inexistente&quot;,&quot;fullTitle&quot;:&quot;User Controller - Mocked POST /users/login Deve retornar erro quando informar usuário inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const error = new Error(test.expectedMessage);\nerror.status = test.statusCode;\nconst userServiceMock = sinon.stub(userService, \&quot;validateUser\&quot;);\nuserServiceMock.throws(error);\nconst response = await request(app)\n  .post(\&quot;/users/login\&quot;)\n  .send(test.loginUser);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4a66519-2944-42f7-bcf2-e7f6cc164003&quot;,&quot;parentUUID&quot;:&quot;20d6156e-2e85-403e-8a4b-2949bdeeeb83&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar erro quando informar senha incorreta&quot;,&quot;fullTitle&quot;:&quot;User Controller - Mocked POST /users/login Deve retornar erro quando informar senha incorreta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const error = new Error(test.expectedMessage);\nerror.status = test.statusCode;\nconst userServiceMock = sinon.stub(userService, \&quot;validateUser\&quot;);\nuserServiceMock.throws(error);\nconst response = await request(app)\n  .post(\&quot;/users/login\&quot;)\n  .send(test.loginUser);\nexpect(response.status).to.equal(test.statusCode);\nexpect(response.body.message).to.equal(test.expectedMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;349d8af3-8076-4a4c-afec-99861fd73e95&quot;,&quot;parentUUID&quot;:&quot;20d6156e-2e85-403e-8a4b-2949bdeeeb83&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve realizar o login com sucesso&quot;,&quot;fullTitle&quot;:&quot;User Controller - Mocked POST /users/login Deve realizar o login com sucesso&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userServiceMock = sinon.stub(userService, \&quot;validateUser\&quot;);\nuserServiceMock.returns({\n  token: \&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.mocktoken\&quot;,\n});\nconst loginRequest = require(\&quot;../../fixture/requests/user/loginRequest.json\&quot;);\nconst response = await request(app)\n  .post(\&quot;/users/login\&quot;)\n  .send(loginRequest);\nexpect(response.status).to.equal(200);\nexpect(response.body.token).to.be.not.null;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f365d2cb-6ec0-4688-bd3d-f654025dd358&quot;,&quot;parentUUID&quot;:&quot;20d6156e-2e85-403e-8a4b-2949bdeeeb83&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0d2a323a-e3d6-4ea0-9e6a-9ddc093367a5&quot;,&quot;26831840-1f8a-40e3-8188-c713a254352e&quot;,&quot;d4a66519-2944-42f7-bcf2-e7f6cc164003&quot;,&quot;349d8af3-8076-4a4c-afec-99861fd73e95&quot;,&quot;f365d2cb-6ec0-4688-bd3d-f654025dd358&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:10000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;11.7.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.4&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;overwrite&quot;:&quot;false&quot;},&quot;version&quot;:&quot;6.3.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;trabalho-final-automacao-api&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:false,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/home/runner/work/trabalho-final-automacao-api/trabalho-final-automacao-api/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/runner/work/trabalho-final-automacao-api/trabalho-final-automacao-api/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>